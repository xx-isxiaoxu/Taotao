import{_ as g,r as w,v as D,B as N,E as a,u as b,c as d,b as s,d as n,w as u,e as i,o as p,m as k,t as l,h as _}from"./index-CXWT5NW2.js";import{u as C}from"./order-CyT1VBxf.js";const I={class:"result-page"},O={class:"result-container"},B={key:0,class:"order-info"},R={__name:"OrderResult",setup(S){const m=N(),t=b(),f=C(),o=w({amount:0,orderNo:"",payTime:new Date,id:null});D(async()=>{const r=m.params.orderId;if(!r){a.error("订单ID不存在"),t.push("/");return}try{const e=await f.getOrderDetail(r);e?o.value=e:(a.error("订单不存在"),t.push("/"))}catch(e){console.error("获取订单信息失败:",e),a.error("获取订单信息失败"),t.push("/")}});const v=r=>r?new Date(r).toLocaleString():"--",h=()=>{t.push("/user/orders")},y=()=>{t.push("/")};return(r,e)=>{const c=i("el-button"),x=i("el-result");return p(),d("div",I,[s("div",O,[n(x,{icon:"success",title:"支付成功","sub-title":"感谢您的购买！"},{extra:u(()=>[o.value?(p(),d("div",B,[s("p",null,"订单号："+l(o.value.orderNo||"--"),1),s("p",null,"支付金额：¥"+l((o.value.amount||0).toFixed(2)),1),s("p",null,"支付时间："+l(v(o.value.payTime)),1)])):k("",!0),n(c,{type:"primary",onClick:h},{default:u(()=>e[0]||(e[0]=[_("查看订单")])),_:1}),n(c,{onClick:y},{default:u(()=>e[1]||(e[1]=[_("返回首页")])),_:1})]),_:1})])])}}},T=g(R,[["__scopeId","data-v-de8ecbf9"]]);export{T as default};
