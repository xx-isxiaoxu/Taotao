import{_ as T,u as E,k as A,e as k,c as l,o as d,f as h,d as t,b as e,F as N,i as M,m as q,t as f,w as g,I as R,h as x,r as w,p as B,C as G,J as Y,K as F,n as W,G as X,g as U,L as J,q as K,M as Q,N as Z,v as ee,A as ae,O as se,P as te,Q as ne}from"./index-CXWT5NW2.js";import{useUserStore as oe}from"./user-DnAwSLmC.js";const ie={class:"cart-popover"},le={key:0,class:"empty-cart"},de={key:1,class:"cart-items"},ce=["src","alt"],re={class:"item-info"},ue={class:"item-name"},me={key:0,class:"item-specs"},pe={class:"item-price"},ge={class:"item-quantity"},ve={class:"cart-footer"},_e={class:"total"},he={class:"price"},fe={__name:"CartPopover",setup(j){const _=E(),c=A(),$=r=>Object.entries(r).map(([u,m])=>`${u}: ${m}`).join(", "),I=(r,u)=>{c.updateQuantity(r.id,r.specs,u)},y=r=>{c.removeFromCart(r.id,r.specs)},b=()=>{_.push("/cart")};return(r,u)=>{const m=k("el-empty"),v=k("el-input-number"),C=k("el-icon"),a=k("el-button");return d(),l("div",ie,[h(c).cartItems.length===0?(d(),l("div",le,[t(m,{description:"购物车是空的"})])):(d(),l("div",de,[(d(!0),l(N,null,M(h(c).cartItems,n=>(d(),l("div",{key:`${n.id}-${JSON.stringify(n.specs)}`,class:"cart-item"},[e("img",{src:n.image,alt:n.name,class:"item-image"},null,8,ce),e("div",re,[e("div",ue,f(n.name),1),Object.keys(n.specs).length?(d(),l("div",me,f($(n.specs)),1)):q("",!0),e("div",pe,"¥"+f(n.price),1),e("div",ge,[t(v,{modelValue:n.quantity,"onUpdate:modelValue":S=>n.quantity=S,min:1,max:99,size:"small",onChange:S=>I(n,S)},null,8,["modelValue","onUpdate:modelValue","onChange"])])]),t(a,{type:"danger",size:"small",circle:"",onClick:S=>y(n)},{default:g(()=>[t(C,null,{default:g(()=>[t(h(R))]),_:1})]),_:2},1032,["onClick"])]))),128)),e("div",ve,[e("div",_e,[u[0]||(u[0]=x(" 总计: ")),e("span",he,"¥"+f(h(c).totalPrice),1)]),t(a,{type:"primary",onClick:b},{default:g(()=>u[1]||(u[1]=[x("去结算")])),_:1})])]))])}}},Ie=T(fe,[["__scopeId","data-v-6c5f347c"]]),ye={class:"nav-header"},ke={class:"header-content"},$e={class:"search"},Ce={key:0,class:"search-suggest"},we=["onMousedown"],be={class:"suggest-index"},Se=["src"],Pe={class:"suggest-name"},xe={class:"suggest-price"},Ve={class:"nav-actions"},Ne={class:"nav-item"},Me={key:0,class:"nav-welcome"},Te={class:"welcome"},je={__name:"NavHeader",setup(j){const _=[{id:1,name:"小新Pro16",description:"16英寸大屏轻薄本",price:5999,originalPrice:6999,image:"/Images/xiaoxin-pro16.jpg",category:"电脑办公"},{id:2,name:"iPhone 15 Pro",description:"苹果旗舰手机，A17芯片",price:8999,originalPrice:9999,image:"/Images/iphone15pro.jpg",category:"手机数码"},{id:3,name:"索尼降噪耳机",description:"无线蓝牙，主动降噪",price:1299,originalPrice:1599,image:"/Images/sony-headphone.jpg",category:"手机数码"},{id:4,name:"美的变频空调",description:"一级能效，智能控制",price:2999,originalPrice:3599,image:"/Images/midea-ac.jpg",category:"家用电器"},{id:5,name:"海尔双门冰箱",description:"大容量，节能静音",price:2399,originalPrice:2699,image:"/Images/haier-fridge.jpg",category:"家用电器"},{id:6,name:"阿迪达斯运动鞋",description:"舒适透气，时尚百搭",price:499,originalPrice:699,image:"/Images/adidas-shoes.jpg",category:"服装鞋包"},{id:7,name:"兰蔻小黑瓶精华",description:"修护肌肤，焕发光彩",price:780,originalPrice:980,image:"/Images/lancome-serum.jpg",category:"美妆个护"},{id:8,name:"优衣库女装连衣裙",description:"简约时尚，舒适面料",price:199,originalPrice:299,image:"/Images/uniqlo-dress.jpg",category:"服装鞋包"}],c=w(""),$=A(),I=oe(),y=B(()=>$.cartCount),b=B(()=>{var i,s;return((i=I.userInfo)==null?void 0:i.nickname)||((s=I.userInfo)==null?void 0:s.username)||""}),r=E(),u=w(!1);function m(i){return JSON.parse(localStorage.getItem("hotProductClicks")||"{}")[i]||0}function v(i){const s="hotProductClicks";let o=JSON.parse(localStorage.getItem(s)||"{}");o[i]=(o[i]||0)+1,localStorage.setItem(s,JSON.stringify(o))}const C=B(()=>{const i=c.value.trim();let s=[..._].sort((p,V)=>m(V.id)-m(p.id));if(!i)return s.slice(0,10);let o=s.filter(p=>p.name.includes(i));return o.length<10&&(o=o.concat(s.filter(p=>!o.includes(p)&&p.description.includes(i)))),o.slice(0,10)});function a(){u.value=!0}function n(){setTimeout(()=>{u.value=!1},200)}function S(i){u.value=!1,c.value=i.name,v(i.id),r.push(`/product/${i.id}`)}function L(){const i=c.value.trim();if(!i)return;let s=[..._].sort((p,V)=>m(V.id)-m(p.id)),o=s.find(p=>p.name===i);o||(o=s.find(p=>p.name.includes(i))),o||(o=s.find(p=>p.description.includes(i))),o?(v(o.id),r.push(`/product/${o.id}`)):alert("未找到相关商品")}return(i,s)=>{const o=k("el-icon"),p=k("el-button"),V=k("el-input"),z=k("el-badge"),D=k("el-popover"),O=k("router-link");return d(),l("div",ye,[e("div",ke,[s[4]||(s[4]=e("div",{class:"logo"},[e("img",{src:G,alt:"淘淘商城"})],-1)),e("div",$e,[t(V,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=P=>c.value=P),placeholder:"搜索商品",class:"search-input",onFocus:a,onBlur:n,onKeyup:F(L,["enter"])},{append:g(()=>[t(p,{type:"primary",onClick:L},{default:g(()=>[t(o,null,{default:g(()=>[t(h(Y))]),_:1})]),_:1})]),_:1},8,["modelValue"]),u.value&&C.value.length?(d(),l("div",Ce,[(d(!0),l(N,null,M(C.value,(P,H)=>(d(),l("div",{key:P.id,class:"suggest-item",onMousedown:W(Xe=>S(P),["prevent"])},[e("span",be,f(H+1),1),e("img",{src:P.image,class:"suggest-img"},null,8,Se),e("span",Pe,f(P.name),1),e("span",xe,"¥"+f(P.price),1)],40,we))),128))])):q("",!0)]),e("div",Ve,[t(D,{placement:"bottom",width:360,trigger:"hover","popper-class":"cart-popover"},{reference:g(()=>[e("div",Ne,[t(z,{value:y.value,class:"cart-badge"},{default:g(()=>[t(o,null,{default:g(()=>[t(h(X))]),_:1})]),_:1},8,["value"]),s[1]||(s[1]=x(" 购物车 "))])]),default:g(()=>[t(Ie)]),_:1}),t(O,{to:{path:"/user",query:{tab:"orders"}},class:"nav-item"},{default:g(()=>[t(o,null,{default:g(()=>[t(h(U))]),_:1}),s[2]||(s[2]=x(" 个人订单 "))]),_:1}),t(O,{to:"/user",class:"nav-item"},{default:g(()=>[t(o,null,{default:g(()=>[t(h(U))]),_:1}),s[3]||(s[3]=x(" 个人中心 "))]),_:1})]),b.value?(d(),l("div",Me,[e("span",Te,f(b.value)+"，欢迎回来",1)])):q("",!0)])])}}},aa=T(je,[["__scopeId","data-v-4e20d6ec"]]),qe={class:"category-nav"},Be={class:"category-list"},Ee=["onMouseenter"],Le={class:"category-main"},Oe={class:"sub-categories"},Ue=["onClick"],Ae=["src","alt"],Fe={__name:"CategoryNav",setup(j){const _=E(),c=w(null),$=w([{id:1,name:"电脑办公",icon:"el-icon-monitor",children:[{id:101,name:"笔记本",image:"/Images/desktop.png"},{id:102,name:"台式机",image:"/Images/computer.png"},{id:103,name:"平板电脑",image:"/Images/tablet.png"},{id:104,name:"显示器",image:"/Images/monitor.png"},{id:105,name:"办公设备",image:"/Images/office.png"}]},{id:2,name:"手机数码",icon:"el-icon-mobile",children:[{id:201,name:"手机",image:"/Images/phone.png"},{id:202,name:"相机",image:"/Images/camera.png"},{id:203,name:"耳机",image:"/Images/headphone.png"},{id:204,name:"智能手表",image:"/Images/smartwatch.png"},{id:205,name:"配件",image:"/Images/accessories.png"}]},{id:3,name:"家用电器",icon:"el-icon-refrigerator",children:[{id:301,name:"电视",image:"/Images/tv.png"},{id:302,name:"冰箱",image:"/Images/fridge.png"},{id:303,name:"洗衣机",image:"/Images/washer.png"},{id:304,name:"空调",image:"/Images/ac.png"},{id:305,name:"厨房电器",image:"/Images/kitchen.png"}]},{id:4,name:"服装鞋包",icon:"el-icon-shopping-bag",children:[{id:401,name:"女装",image:"/Images/women.png"},{id:402,name:"男装",image:"/Images/men.png"},{id:403,name:"鞋靴",image:"/Images/shoes.png"},{id:404,name:"箱包",image:"/Images/bags.png"},{id:405,name:"配饰",image:"/Images/fashion.png"}]},{id:5,name:"美妆个护",icon:"el-icon-present",children:[{id:501,name:"护肤",image:"/Images/skincare.png"},{id:502,name:"彩妆",image:"/Images/makeup.png"},{id:503,name:"洗护",image:"/Images/personal.png"},{id:504,name:"香水",image:"/Images/perfume.png"},{id:505,name:"美妆工具",image:"/Images/tools.png"}]}]),I=r=>{c.value=r.id},y=()=>{c.value=null},b=r=>{_.push({name:"Category",params:{id:r.id}})};return(r,u)=>(d(),l("div",qe,[u[0]||(u[0]=e("h3",{class:"nav-title"},"商品分类",-1)),e("ul",Be,[(d(!0),l(N,null,M($.value,m=>(d(),l("li",{key:m.id,class:"category-item",onMouseenter:v=>I(m),onMouseleave:y},[e("div",Le,[e("i",{class:K(m.icon)},null,2),x(" "+f(m.name),1)]),J(e("div",Oe,[(d(!0),l(N,null,M(m.children,v=>(d(),l("div",{key:v.id,class:"sub-category",onClick:C=>b(v)},[e("img",{src:v.image,alt:v.name},null,8,Ae),e("span",null,f(v.name),1)],8,Ue))),128))],512),[[Q,c.value===m.id]])],40,Ee))),128))])]))}},sa=T(Fe,[["__scopeId","data-v-a94d53f6"]]),Je={},Ke={class:"footer"};function Qe(j,_){return d(),l("footer",Ke,_[0]||(_[0]=[Z('<div class="footer-content" data-v-47798d90><div class="footer-section" data-v-47798d90><h3 data-v-47798d90>关于我们</h3><ul data-v-47798d90><li data-v-47798d90><a href="/about" data-v-47798d90>公司简介</a></li><li data-v-47798d90><a href="/contact" data-v-47798d90>联系我们</a></li><li data-v-47798d90><a href="/careers" data-v-47798d90>招贤纳士</a></li></ul></div><div class="footer-section" data-v-47798d90><h3 data-v-47798d90>客户服务</h3><ul data-v-47798d90><li data-v-47798d90><a href="/help" data-v-47798d90>帮助中心</a></li><li data-v-47798d90><a href="/shipping" data-v-47798d90>配送说明</a></li><li data-v-47798d90><a href="/returns" data-v-47798d90>退换货政策</a></li></ul></div><div class="footer-section" data-v-47798d90><h3 data-v-47798d90>关注我们</h3><div class="social-links" data-v-47798d90><a href="#" class="social-icon" data-v-47798d90><i class="el-icon-weixin" data-v-47798d90></i></a><a href="#" class="social-icon" data-v-47798d90><i class="el-icon-weibo" data-v-47798d90></i></a><a href="#" class="social-icon" data-v-47798d90><i class="el-icon-qq" data-v-47798d90></i></a></div></div><div class="footer-section" data-v-47798d90><h3 data-v-47798d90>联系方式</h3><p data-v-47798d90>客服热线：400-123-4567</p><p data-v-47798d90>工作时间：周一至周日 9:00-21:00</p><p data-v-47798d90>邮箱：service@example.com</p></div></div><div class="footer-bottom" data-v-47798d90><p data-v-47798d90>© 2024 淘淘商城 版权所有 | ICP备案号：粤ICP备12345678号</p></div>',2)]))}const ta=T(Je,[["render",Qe],["__scopeId","data-v-47798d90"]]),ze="/Images/qrcode.png",De={class:"side-toolbar"},He={key:0,class:"qr-popup"},Re={class:"chat-window"},Ge={class:"msg-content"},Ye={class:"chat-input-row"},We={__name:"SideToolbar",setup(j){const _=w(!1),c=w(!1),$=w(!1),I=w([{from:"ai",content:"您好，这里是AI客服，有什么可以帮您？"}]),y=w(""),b=()=>{$.value=!0},r=()=>{const C=y.value.trim();C&&(I.value.push({from:"user",content:C}),y.value="",setTimeout(()=>{I.value.push({from:"ai",content:"请问有什么可以帮您"})},500))},u=()=>{_.value=window.scrollY>300},m=()=>{window.scrollTo({top:0,behavior:"smooth"})},v=()=>{window.open("tel:400-123-4567")};return ee(()=>{window.addEventListener("scroll",u)}),ae(()=>{window.removeEventListener("scroll",u)}),(C,a)=>(d(),l("div",De,[e("div",{class:"toolbar-item",onClick:b},a[4]||(a[4]=[e("i",{class:"el-icon-message"},null,-1),e("span",null,"咨询",-1)])),e("div",{class:"toolbar-item",onClick:v},a[5]||(a[5]=[e("i",{class:"el-icon-phone"},null,-1),e("span",null,"热线",-1)])),e("div",{class:"toolbar-item",onMouseenter:a[0]||(a[0]=n=>c.value=!0),onMouseleave:a[1]||(a[1]=n=>c.value=!1)},[a[7]||(a[7]=e("i",{class:"el-icon-qrcode"},null,-1)),a[8]||(a[8]=e("span",null,"二维码",-1)),c.value?(d(),l("div",He,a[6]||(a[6]=[e("img",{src:ze,alt:"二维码"},null,-1),e("div",null,"扫码关注",-1)]))):q("",!0)],32),J(e("div",{class:"toolbar-item",onClick:m},a[9]||(a[9]=[e("i",{class:"el-icon-top"},null,-1),e("span",null,"返回顶部",-1)]),512),[[Q,_.value]]),t(h(ne),{modelValue:$.value,"onUpdate:modelValue":a[3]||(a[3]=n=>$.value=n),title:"AI客服",width:"350px","close-on-click-modal":!1},{default:g(()=>[e("div",Re,[(d(!0),l(N,null,M(I.value,(n,S)=>(d(),l("div",{key:S,class:K(["chat-msg",n.from])},[e("span",Ge,f(n.content),1)],2))),128))]),e("div",Ye,[t(h(se),{modelValue:y.value,"onUpdate:modelValue":a[2]||(a[2]=n=>y.value=n),placeholder:"请输入内容...",onKeyup:F(r,["enter"]),class:"chat-input"},null,8,["modelValue"]),t(h(te),{type:"primary",onClick:r,class:"chat-send"},{default:g(()=>a[10]||(a[10]=[x("发送")])),_:1})])]),_:1},8,["modelValue"])]))}},na=T(We,[["__scopeId","data-v-11e6be6e"]]);export{ta as A,sa as C,aa as N,na as S};
